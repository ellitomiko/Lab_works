<!DOCTYPE html>
<html>

    <head>
        <title>Lab_pract3</title>
        <style>
            #container{
                
            }

        </style>
    </head>

    <body>

        <div id="container">
            <input type="text" id="calcText" /> <br/>
            <input type="hidden" id="currentValue" value="0"/>
        </div>

        <script>
            function createButton(text, className) {
                //создаем элемент <button></button>
                const buttonNode = document.createElement("button");
                //пишем текст внутри него
                buttonNode.innerText = text;
                buttonNode.classList.add(className);
 
                return buttonNode;
            }
 
            //получаем элемент <div> с id container
            const containerNode = document.getElementById("container");
 
            for (let i = 0; i <= 9; i++) {
                const buttonNode = createButton(i, "btn-number");
                //добавляем его внутрь элемента в переменной containerNode
                containerNode.appendChild(buttonNode);
 
                if (i % 3 == 0) {
                    const brNode = document.createElement("br");
                    containerNode.appendChild(brNode);
                }
            }
 
            const operationLabels = ["*", "-", "+", "/", "="];
 
            for (let i = 0; i < operationLabels.length; i++) {
                const buttonNode = createButton(operationLabels[i], "btn-operation");
                //добавляем его внутрь элемента в переменной containerNode
                containerNode.appendChild(buttonNode);
            }
            const calcInput = document.getElementById("calcText");
            let buttons = document.querySelectorAll(".btn-number");
            for (let i = 0; i < buttons.length; i++) {
                buttons[i].addEventListener("click", (e) => {
                    let val = e.target.innerText;
 
                    calcInput.value += val;
                });
            }

            let operationButtons = document.querySelectorAll(".btn-operation");

            const currentValueInput = document.getElementById("currentValue");
            const opSign = document.getElementById("op");

            for (let i = 0; i < operationButtons.length; i++){
                operationButtons[i].addEventListener("click", e => {
                    //1. Взять текущее значение из текстового поля, сохранить в переменную
                    //1.1 В переменную также сохранить знак операции
                    //2. Очистить текстовое поле
                    //3. По нажатию на кнопку = выполнить операцию с сохрененным значением и знаком операции

                    currentValueInput.value = calcInput.value;
                    opSign.value = e.target.innerText;

                    calcInput.value = "";

                })
            }

            document.getElementById("calc").addEventListener("click", e => {
                let currVal = parseInt(calcInput)
            })

        </script>

    </body>
</html>